--TENIENDO EN CUENTA QUE LA TABLA DEPART YA EXISTE--
INSERT INTO EMPLEADOS(EMP_NO,DNI,NOMBRE,APELLIDOS,OFICIO
,FECHA_ALT,SALARIO*166,386,DEPT_NO)
SELECT (EMP_NO,DNI,SUBSTR(APELLIDO,INSTR(APELLIDO,','),SUBSTR(APELLIDO,1)))

CREATE TABLE PRESUPUESTOS(
    DEPT_NO NUMBER(2) NOT NULL,
    AÑO NUMBER(4) NOT NULL,
    CANTIDAD NUMBER(4) NOT NULL,
    CONSTRAINT PK_PRESUPUESTOS PRIMARY KEY(DEPT_NO, AÑO),
    CONSTRAINT FK_PRESUPUESTOS_DEPART FOREIGN KEY (DEPT_NO) REFERENCES DEPART
);

CREATE TABLE EMPLEADOS(
    EMP_NO  NUMBER(4),
    DNI     CHAR(9) NOT NULL UNIQUE,
    NOMBRE  VARCHAR2(30) NOT NULL,
    APELLIDOS VARCHAR2(60) NOT NULL,
    OFICIO  VARCHAR2(10),
    FECHA_ALT DATE,
    SALARIO NUMBER(10),
    COMISION NUMBER(10),
    DEPT_NO NUMBER(2) NOT NULL,
    CONSTRAINT PK_EMPLE PRIMARY KEY (EMP_NO),
    CONSTRAINT FK_EMPLE_DEPART FOREIGN KEY (DEPT_NO) REFERENCES DEPART
);

CREATE TABLE DIR(
    EMP_NO_EMPLEADO NUMBER(4),
    EMP_NO_JEFE NUMBER(4),
    CONSTRAINT PK_DIR PRIMARY KEY(EMP_NO_JEFE),
    CONSTRAINT FK_DIR_EMPLEADO FOREIGN KEY(EMP_NO_EMPLEADO) REFERENCES EMPLEADOS
);